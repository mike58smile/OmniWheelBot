\hypertarget{_drive_8h_source}{}\doxysection{Drive.\+h}
\mbox{\hyperlink{_drive_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*****************************************************************/}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#ifndef \_DRIVE\_h}}
\DoxyCodeLine{11 \textcolor{preprocessor}{\#define \_DRIVE\_h}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#if defined(ARDUINO) \&\& ARDUINO >= 100}}
\DoxyCodeLine{14 \textcolor{preprocessor}{    \#include "{}arduino.h"{}}}
\DoxyCodeLine{15 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{16 \textcolor{preprocessor}{    \#include "{}WProgram.h"{}}}
\DoxyCodeLine{17 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{preprocessor}{\#include <Encoder.h>}}
\DoxyCodeLine{20 \textcolor{preprocessor}{\#include <PID\_v1.h>}}
\DoxyCodeLine{21 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_state_8h}{State.h}}"{}}}
\DoxyCodeLine{22 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_motors_8h}{Motors.h}}"{}}}
\DoxyCodeLine{23 }
\DoxyCodeLine{24 \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{_drive_8h_aabb5eb13d6075d416b5e86c1b6a285ad}{SpeedRampDelayCalib}} = 80000; }
\DoxyCodeLine{25 }
\DoxyCodeLine{26 \textcolor{keyword}{enum class} CalibState \{ Init, Motor1, Motor2, End,   Size \}; }
\DoxyCodeLine{27 \textcolor{preprocessor}{\#define calibStatePrint State.CalibStatePrint[static\_cast<int>(State.calibState)] }}
\DoxyCodeLine{31 \textcolor{keyword}{class }\mbox{\hyperlink{class_drive_class}{DriveClass}}}
\DoxyCodeLine{32 \{}
\DoxyCodeLine{33  \textcolor{keyword}{private}:}
\DoxyCodeLine{34      CalibState calibState = CalibState::Init; }
\DoxyCodeLine{35      \mbox{\hyperlink{class_state_class}{StateClass}}\& State; }
\DoxyCodeLine{36      \mbox{\hyperlink{class_motors_class}{MotorsClass}} Motors; }
\DoxyCodeLine{37      \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} currentTime; }
\DoxyCodeLine{38      \textcolor{keyword}{static} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} previousTime; }
\DoxyCodeLine{39 }
\DoxyCodeLine{44      \textcolor{keywordtype}{void} read();}
\DoxyCodeLine{45 }
\DoxyCodeLine{46      \textcolor{keywordtype}{double} pid\_Set1 = 0, pid\_In1 = 0, pid\_Out1 = 0; }
\DoxyCodeLine{47      \textcolor{keywordtype}{double} pid\_Set2 = 0, pid\_In2 = 0, pid\_Out2 = 0; }
\DoxyCodeLine{48 }
\DoxyCodeLine{49      \textcolor{comment}{//DeadbandCalib}}
\DoxyCodeLine{50      \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} currentTime\_C = 0, previousTime\_C = 0; }
\DoxyCodeLine{51  \textcolor{keyword}{public}:}
\DoxyCodeLine{52      \textcolor{keyword}{const} \textcolor{keywordtype}{char}* \mbox{\hyperlink{class_drive_class_a755328156bfeed91c73655ec3b1a26fa}{CalibStatePrint}}[\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(CalibState::Size)] = \{ \textcolor{stringliteral}{"{}Init"{}}, \textcolor{stringliteral}{"{}Motor1"{}}, \textcolor{stringliteral}{"{}Motor2"{}}, \textcolor{stringliteral}{"{}End"{}} \}; }
\DoxyCodeLine{53      PID \mbox{\hyperlink{class_drive_class_adc25d7e18fba0c6faa7bbc1e4a071a58}{pid1}}; }
\DoxyCodeLine{54      PID \mbox{\hyperlink{class_drive_class_a1522b8234dfaea99d1d77e4730fe895f}{pid2}}; }
\DoxyCodeLine{55      Encoder \mbox{\hyperlink{class_drive_class_a220a780cced6ece3e94731bd9cefd850}{enc1}}; }
\DoxyCodeLine{56      Encoder \mbox{\hyperlink{class_drive_class_a105582a5f5109076eb59d3556db0d428}{enc2}}; }
\DoxyCodeLine{57 }
\DoxyCodeLine{63      \textcolor{keyword}{explicit} \mbox{\hyperlink{class_drive_class_a148ebca617d743610ab7421b249470b3}{DriveClass}}(\mbox{\hyperlink{class_state_class}{StateClass}}\& state) : State(state), Motors(state), \mbox{\hyperlink{class_drive_class_a220a780cced6ece3e94731bd9cefd850}{enc1}}(State.Enc1\_1, State.Enc1\_2), \mbox{\hyperlink{class_drive_class_a105582a5f5109076eb59d3556db0d428}{enc2}}(State.Enc2\_1, State.Enc2\_2),}
\DoxyCodeLine{64      \mbox{\hyperlink{class_drive_class_adc25d7e18fba0c6faa7bbc1e4a071a58}{pid1}}(\&pid\_In1, \&pid\_Out1, \&pid\_Set1, State.Kp\_1, State.Ki\_1, State.Kd\_1, DIRECT), \mbox{\hyperlink{class_drive_class_a1522b8234dfaea99d1d77e4730fe895f}{pid2}}(\&pid\_In2, \&pid\_Out2, \&pid\_Set2, State.Kp\_2, State.Ki\_2, State.Kd\_2, DIRECT)\{\}}
\DoxyCodeLine{65      }
\DoxyCodeLine{70      \textcolor{keywordtype}{void} \mbox{\hyperlink{class_drive_class_af058246867930180e2e73d98d94075e9}{init}}();}
\DoxyCodeLine{71 }
\DoxyCodeLine{76      \textcolor{keywordtype}{void} \mbox{\hyperlink{class_drive_class_a37365361d8fc1a2e99526602670a4e8a}{loop}}();}
\DoxyCodeLine{77 }
\DoxyCodeLine{78 \};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{extern} \mbox{\hyperlink{class_drive_class}{DriveClass}} Drive;}
\DoxyCodeLine{81 }
\DoxyCodeLine{82 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
